<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:amq="http://activemq.apache.org/schema/core"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:jee="http://www.springframework.org/schema/jee"  
       xmlns:tx="http://www.springframework.org/schema/tx"
       xmlns:task="http://www.springframework.org/schema/task"
       xmlns:util="http://www.springframework.org/schema/util"
       xmlns:jms="http://www.springframework.org/schema/jms"
       xmlns:p="http://www.springframework.org/schema/p"
       xsi:schemaLocation="
      http://www.springframework.org/schema/beans 
      http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
      http://www.springframework.org/schema/jms
      http://www.springframework.org/schema/jms/spring-jms.xsd
      http://www.springframework.org/schema/context 
      http://www.springframework.org/schema/context/spring-context-3.0.xsd
      http://www.springframework.org/schema/util 
      http://www.springframework.org/schema/util/spring-util.xsd      
      http://www.springframework.org/schema/task 
      http://www.springframework.org/schema/task/spring-task-3.0.xsd      
      http://www.springframework.org/schema/jee  
      http://www.springframework.org/schema/jee/spring-jee-3.0.xsd      
      http://www.springframework.org/schema/tx 
      http://www.springframework.org/schema/tx/spring-tx-3.0.xsd"
>

    <!--######################################################################
    #                   applicationContext of WebSessionSimulation console application
    #########################################################################-->

    <bean id="bean_ReqReplySettings" class="hanulhan.jms.spring.reqreply.util.ReqReplySettings">
        <property name="reqDestination"        ref="bean_vmReqTopic" />
        <property name="reqDestinationName"    value="${topic.name.request}" />
        <property name="replyDestination"      ref="bean_vmReplyTopic" />
        <property name="maxMessageLength">
            <value>${message.length}</value> 
        </property>
        <property name="filterPropertyName" value="SYSTEM_IDENT" />
    </bean>

    <bean id="bean_vmReqReplyProducer" class="hanulhan.jms.spring.reqreply.beans.ReqReplyProducer" scope="singleton" >
        <description>
            Message Producer to send Requests to the VM-Req Topic
            and awaiting the Respnse
        </description>
        <property name="requestDestination" ref="bean_vmReqTopic" />
        <property name="replyDestination"   ref="bean_vmReplyTopic" />
        <property name="jmsTemplate"        ref="bean_jmsTopicTemplate" />
        <property name="filterName"         value="SYSTEM_IDENT" />        
    </bean>

    <bean id="bean_amqConnectionFactory" class="org.apache.activemq.ActiveMQConnectionFactory">
        <property name="brokerURL" value="${broker.url}" />
        <property name="sendTimeout" value="0" />
    </bean>

    <bean id="bean_SingleConnectionFactory" class="org.springframework.jms.connection.SingleConnectionFactory">
        <description>
            This SingleConnectionFactory is useful for testing and standalone 
            environments so that the same connection can be used for multiple 
            JmsTemplate calls that may span any number of transactions
        </description>
        <property name="targetConnectionFactory" ref="bean_amqConnectionFactory" />
        <property name="reconnectOnException"   value="true" />
        <property name="clientId"               value="ACS-#{bean_ReqReplySettings.getClientId()}" />
    </bean>
    
    <bean id="bean_brokerExceptionListenerBean" class="com.acentic.cloudservices.messagebroker.beans.BrokerExceptionListenerBean" />
    
    <bean id="bean_jmsTopicTemplate" class="org.springframework.jms.core.JmsTemplate">
        <property name="pubSubDomain" value="true" />
        <property name="connectionFactory" ref="bean_SingleConnectionFactory" />
    </bean>
    

    <bean id="bean_vmReqTopic" class="org.apache.activemq.command.ActiveMQTopic" scope="singleton" >
        <description>The Topic to send requests to the systems</description>
        <constructor-arg value="${topic.name.request}" />
    </bean>
    
    <bean id="bean_vmReplyTopic" class="org.apache.activemq.command.ActiveMQTopic" scope="singleton" >
        <description>The Topic to receive the response from the system</description>
        <constructor-arg value="${topic.name.response}" />
    </bean>



    <bean id="bean_jmsErrorHandler" class="hanulhan.jms.spring.reqreply.util.JMSReqErrorHandler" />


    
    <bean id="bean_jmsReplyListenerContainer" 
          class="org.springframework.jms.listener.DefaultMessageListenerContainer"
          p:connectionFactory-ref="bean_SingleConnectionFactory"
          p:destinationName="${topic.name.response}"
          p:messageListener-ref="bean_vmReqReplyProducer"
          p:pubSubDomain="true"
          p:subscriptionDurable="false"
          p:durableSubscriptionName="${reply.durable.subscriber.name}"
          p:errorHandler-ref="bean_jmsErrorHandler"
          p:sessionAcknowledgeModeName="AUTO_ACKNOWLEDGE"/>

    
    <bean id="bean_WebSimulation" class="hanulhan.jms.spring.websession.sim.WebSimulation" >
        <property name="timeoutSec"    value="30" />
        <property name="identList"     ref="identList1"/>
        <property name="logpath"       value="${log4j.logpath}" />
    </bean>    
    
    <util:list id="identList1" value-type="java.lang.String">
        <value>00000001</value>
        <value>00000002</value>
        <value>00000003</value>
        <value>00000004</value>
        <value>00000005</value>
        <value>00000006</value>
        <value>00000007</value>
        <value>00000008</value>
        <value>00000009</value>
        <value>00000010</value>
        <value>00000011</value>
        <value>00000012</value>
        <value>00000013</value>
        <value>00000014</value>
        <value>00000015</value>
        <value>00000016</value>
        <value>00000017</value>
        <value>00000018</value>
        <value>00000019</value>
        <value>00000020</value>
        <value>00000021</value>
        <value>00000022</value>
        <value>00000023</value>
        <value>00000024</value>
        <value>00000025</value>
        <value>00000026</value>
        <value>00000027</value>
        <value>00000028</value>
        <value>00000029</value>
        <value>00000030</value>
        <value>00000031</value>
        <value>00000032</value>
        <value>00000033</value>
        <value>00000034</value>
        <value>00000035</value>
        <value>00000036</value>
        <value>00000037</value>
        <value>00000038</value>
        <value>00000039</value>
        <value>00000040</value>
        <value>00000041</value>
        <value>00000042</value>
        <value>00000043</value>
        <value>00000044</value>
        <value>00000045</value>
        <value>00000046</value>
        <value>00000047</value>
        <value>00000048</value>
        <value>00000049</value>
        <value>00000050</value>
        <value>00000051</value>
        <value>00000052</value>
        <value>00000053</value>
        <value>00000054</value>
        <value>00000055</value>
        <value>00000056</value>
        <value>00000057</value>
        <value>00000058</value>
        <value>00000059</value>
        <value>00000060</value>
        <value>00000061</value>
        <value>00000062</value>
        <value>00000063</value>
        <value>00000064</value>
        <value>00000065</value>
        <value>00000066</value>
        <value>00000067</value>
        <value>00000068</value>
        <value>00000069</value>
        <value>00000070</value>
        <value>00000071</value>
        <value>00000072</value>
        <value>00000073</value>
        <value>00000074</value>
        <value>00000075</value>
        <value>00000076</value>
        <value>00000077</value>
        <value>00000078</value>
        <value>00000079</value>
        <value>00000080</value>
        <value>00000081</value>
        <value>00000082</value>
        <value>00000083</value>
        <value>00000084</value>
        <value>00000085</value>
        <value>00000086</value>
        <value>00000087</value>
        <value>00000088</value>
        <value>00000089</value>
        <value>00000090</value>
        <value>00000091</value>
        <value>00000092</value>
        <value>00000093</value>
        <value>00000094</value>
        <value>00000095</value>
        <value>00000096</value>
        <value>00000097</value>
        <value>00000098</value>
        <value>00000099</value>
        <value>00000100</value>
        <value>00000101</value>
        <value>00000102</value>
        <value>00000103</value>
        <value>00000104</value>
        <value>00000105</value>
        <value>00000106</value>
        <value>00000107</value>
        <value>00000108</value>
        <value>00000109</value>
        <value>00000110</value>
        <value>00000111</value>
        <value>00000112</value>
        <value>00000113</value>
        <value>00000114</value>
        <value>00000115</value>
        <value>00000116</value>
        <value>00000117</value>
        <value>00000118</value>
        <value>00000119</value>
        <value>00000120</value>
        <value>00000121</value>
        <value>00000122</value>
        <value>00000123</value>
        <value>00000124</value>
        <value>00000125</value>
        <value>00000126</value>
        <value>00000127</value>
        <value>00000128</value>
        <value>00000129</value>
        <value>00000130</value>
        <value>00000131</value>
        <value>00000132</value>
        <value>00000133</value>
        <value>00000134</value>
        <value>00000135</value>
        <value>00000136</value>
        <value>00000137</value>
        <value>00000138</value>
        <value>00000139</value>
        <value>00000140</value>
        <value>00000141</value>
        <value>00000142</value>
        <value>00000143</value>
        <value>00000144</value>
        <value>00000145</value>
        <value>00000146</value>
        <value>00000147</value>
        <value>00000148</value>
        <value>00000149</value>
        <value>00000150</value>
        <value>00000151</value>
        <value>00000152</value>
        <value>00000153</value>
        <value>00000154</value>
        <value>00000155</value>
        <value>00000156</value>
        <value>00000157</value>
        <value>00000158</value>
        <value>00000159</value>
        <value>00000160</value>
        <value>00000161</value>
        <value>00000162</value>
        <value>00000163</value>
        <value>00000164</value>
        <value>00000165</value>
        <value>00000166</value>
        <value>00000167</value>
        <value>00000168</value>
        <value>00000169</value>
        <value>00000170</value>
        <value>00000171</value>
        <value>00000172</value>
        <value>00000173</value>
        <value>00000174</value>
        <value>00000175</value>
        <value>00000176</value>
        <value>00000177</value>
        <value>00000178</value>
        <value>00000179</value>
        <value>00000180</value>
        <value>00000181</value>
        <value>00000182</value>
        <value>00000183</value>
        <value>00000184</value>
        <value>00000185</value>
        <value>00000186</value>
        <value>00000187</value>
        <value>00000188</value>
        <value>00000189</value>
        <value>00000190</value>
        <value>00000191</value>
        <value>00000192</value>
        <value>00000193</value>
        <value>00000194</value>
        <value>00000195</value>
        <value>00000196</value>
        <value>00000197</value>
        <value>00000198</value>
        <value>00000199</value>
        <value>00000200</value>
        <value>00000201</value>
        <value>00000202</value>
        <value>00000203</value>
        <value>00000204</value>
        <value>00000205</value>
        <value>00000206</value>
        <value>00000207</value>
        <value>00000208</value>
        <value>00000209</value>
        <value>00000210</value>
        <value>00000211</value>
        <value>00000212</value>
        <value>00000213</value>
        <value>00000214</value>
        <value>00000215</value>
        <value>00000216</value>
        <value>00000217</value>
        <value>00000218</value>
        <value>00000219</value>
        <value>00000220</value>
        <value>00000221</value>
        <value>00000222</value>
        <value>00000223</value>
        <value>00000224</value>
        <value>00000225</value>
        <value>00000226</value>
        <value>00000227</value>
        <value>00000228</value>
        <value>00000229</value>
        <value>00000230</value>
        <value>00000231</value>
        <value>00000232</value>
        <value>00000233</value>
        <value>00000234</value>
        <value>00000235</value>
        <value>00000236</value>
        <value>00000237</value>
        <value>00000238</value>
        <value>00000239</value>
        <value>00000240</value>
        <value>00000241</value>
        <value>00000242</value>
        <value>00000243</value>
        <value>00000244</value>
        <value>00000245</value>
        <value>00000246</value>
        <value>00000247</value>
        <value>00000248</value>
        <value>00000249</value>
        <value>00000250</value>
        <value>00000251</value>
        <value>00000252</value>
        <value>00000253</value>
        <value>00000254</value>
        <value>00000255</value>
        <value>00000256</value>
        <value>00000257</value>
        <value>00000258</value>
        <value>00000259</value>
        <value>00000260</value>
        <value>00000261</value>
        <value>00000262</value>
        <value>00000263</value>
        <value>00000264</value>
        <value>00000265</value>
        <value>00000266</value>
        <value>00000267</value>
        <value>00000268</value>
        <value>00000269</value>
        <value>00000270</value>
        <value>00000271</value>
        <value>00000272</value>
        <value>00000273</value>
        <value>00000274</value>
        <value>00000275</value>
        <value>00000276</value>
        <value>00000277</value>
        <value>00000278</value>
        <value>00000279</value>
        <value>00000280</value>
        <value>00000281</value>
        <value>00000282</value>
        <value>00000283</value>
        <value>00000284</value>
        <value>00000285</value>
        <value>00000286</value>
        <value>00000287</value>
        <value>00000288</value>
        <value>00000289</value>
        <value>00000290</value>
        <value>00000291</value>
        <value>00000292</value>
        <value>00000293</value>
        <value>00000294</value>
        <value>00000295</value>
        <value>00000296</value>
        <value>00000297</value>
        <value>00000298</value>
        <value>00000299</value>
        <value>00000300</value>
        <value>00000301</value>
        <value>00000302</value>
        <value>00000303</value>
        <value>00000304</value>
        <value>00000305</value>
        <value>00000306</value>
        <value>00000307</value>
        <value>00000308</value>
        <value>00000309</value>
        <value>00000310</value>
        <value>00000311</value>
        <value>00000312</value>
        <value>00000313</value>
        <value>00000314</value>
        <value>00000315</value>
        <value>00000316</value>
        <value>00000317</value>
        <value>00000318</value>
        <value>00000319</value>
        <value>00000320</value>
        <value>00000321</value>
        <value>00000322</value>
        <value>00000323</value>
        <value>00000324</value>
        <value>00000325</value>
        <value>00000326</value>
        <value>00000327</value>
        <value>00000328</value>
        <value>00000329</value>
        <value>00000330</value>
        <value>00000331</value>
        <value>00000332</value>
        <value>00000333</value>
        <value>00000334</value>
        <value>00000335</value>
        <value>00000336</value>
        <value>00000337</value>
        <value>00000338</value>
        <value>00000339</value>
        <value>00000340</value>
        <value>00000341</value>
        <value>00000342</value>
        <value>00000343</value>
        <value>00000344</value>
        <value>00000345</value>
        <value>00000346</value>
        <value>00000347</value>
        <value>00000348</value>
        <value>00000349</value>
        <value>00000350</value>
        <value>00000351</value>
        <value>00000352</value>
        <value>00000353</value>
        <value>00000354</value>
        <value>00000355</value>
        <value>00000356</value>
        <value>00000357</value>
        <value>00000358</value>
        <value>00000359</value>
        <value>00000360</value>
        <value>00000361</value>
        <value>00000362</value>
        <value>00000363</value>
        <value>00000364</value>
        <value>00000365</value>
        <value>00000366</value>
        <value>00000367</value>
        <value>00000368</value>
        <value>00000369</value>
        <value>00000370</value>
        <value>00000371</value>
        <value>00000372</value>
        <value>00000373</value>
        <value>00000374</value>
        <value>00000375</value>
        <value>00000376</value>
        <value>00000377</value>
        <value>00000378</value>
        <value>00000379</value>
        <value>00000380</value>
        <value>00000381</value>
        <value>00000382</value>
        <value>00000383</value>
        <value>00000384</value>
        <value>00000385</value>
        <value>00000386</value>
        <value>00000387</value>
        <value>00000388</value>
        <value>00000389</value>
        <value>00000390</value>
        <value>00000391</value>
        <value>00000392</value>
        <value>00000393</value>
        <value>00000394</value>
        <value>00000395</value>
        <value>00000396</value>
        <value>00000397</value>
        <value>00000398</value>
        <value>00000399</value>
        <value>00000400</value>
        <value>00000401</value>
        <value>00000402</value>
        <value>00000403</value>
        <value>00000404</value>
        <value>00000405</value>
        <value>00000406</value>
        <value>00000407</value>
        <value>00000408</value>
        <value>00000409</value>
        <value>00000410</value>
        <value>00000411</value>
        <value>00000412</value>
        <value>00000413</value>
        <value>00000414</value>
        <value>00000415</value>
        <value>00000416</value>
        <value>00000417</value>
        <value>00000418</value>
        <value>00000419</value>
        <value>00000420</value>
        <value>00000421</value>
        <value>00000422</value>
        <value>00000423</value>
        <value>00000424</value>
        <value>00000425</value>
        <value>00000426</value>
        <value>00000427</value>
        <value>00000428</value>
        <value>00000429</value>
        <value>00000430</value>
        <value>00000431</value>
        <value>00000432</value>
        <value>00000433</value>
        <value>00000434</value>
        <value>00000435</value>
        <value>00000436</value>
        <value>00000437</value>
        <value>00000438</value>
        <value>00000439</value>
        <value>00000440</value>
        <value>00000441</value>
        <value>00000442</value>
        <value>00000443</value>
        <value>00000444</value>
        <value>00000445</value>
        <value>00000446</value>
        <value>00000447</value>
        <value>00000448</value>
        <value>00000449</value>
        <value>00000450</value>
        <value>00000451</value>
        <value>00000452</value>
        <value>00000453</value>
        <value>00000454</value>
        <value>00000455</value>
        <value>00000456</value>
        <value>00000457</value>
        <value>00000458</value>
        <value>00000459</value>
        <value>00000460</value>
        <value>00000461</value>
        <value>00000462</value>
        <value>00000463</value>
        <value>00000464</value>
        <value>00000465</value>
        <value>00000466</value>
        <value>00000467</value>
        <value>00000468</value>
        <value>00000469</value>
        <value>00000470</value>
        <value>00000471</value>
        <value>00000472</value>
        <value>00000473</value>
        <value>00000474</value>
        <value>00000475</value>
        <value>00000476</value>
        <value>00000477</value>
        <value>00000478</value>
        <value>00000479</value>
        <value>00000480</value>
        <value>00000481</value>
        <value>00000482</value>
        <value>00000483</value>
        <value>00000484</value>
        <value>00000485</value>
        <value>00000486</value>
        <value>00000487</value>
        <value>00000488</value>
        <value>00000489</value>
        <value>00000490</value>
        <value>00000491</value>
        <value>00000492</value>
        <value>00000493</value>
        <value>00000494</value>
        <value>00000495</value>
        <value>00000496</value>
        <value>00000497</value>
        <value>00000498</value>
        <value>00000499</value>
        <value>00000500</value>
    </util:list>
    
    <util:list id="identList2" value-type="java.lang.String">
        <value>VIDEOSYS</value>
        <value>QMWCHEST</value>
        <value>N4B3WSXA</value>
        <value>1ID00010</value>
        <value>VMS01114</value>
        <value>T4B3C83G</value>
        <value>VMS00173</value>
        <value>YSACLZWB</value>
        <value>1ID00123</value>
        <value>W4BGNKFD</value>
        <value>PTALWKCB</value>
        <value>0ID00149</value>
        <value>RRB2MOZA</value>
        <value>0ID00119</value>
        <value>JGBFU7RZ</value>
        <value>TUCAN001</value>
        <value>VMS01097</value>
        <value>NZBB0XYD</value>
        <value>VMS00291</value>
        <value>1ID00041</value>
        <value>1ID00186</value>
        <value>1ID00055</value>
        <value>1ID00056</value>
        <value>1ID00188</value>
        <value>1ID00089</value>
        <value>0ID00084</value>
        <value>MABE0801</value>
        <value>0ID00088</value>
        <value>JTAXVYEB</value>
        <value>HLWALDOR</value>
        <value>HLCALEDI</value>
        <value>0ID00127</value>
        <value>1ID00102</value>
        <value>1ID00052</value>
        <value>LMRUSSEL</value>
        <value>1ID00133</value>
        <value>OWAVLATC</value>
        <value>WCBFNE6D</value>
        <value>INPALACE</value>
        <value>DXA8PQ1F</value>
        <value>0ID00130</value>
        <value>BZBG7FLC</value>
        <value>1ID00069</value>
        <value>01D00177</value>
        <value>G4BU8P1C</value>
        <value>0ID00017</value>
        <value>HDKENSI0</value>
        <value>ORBCB0GD</value>
        <value>ASBUWZFB</value>
        <value>1ID00098</value>
        <value>1ID00120</value>
        <value>OWA4CAYE</value>
        <value>INCELMAN</value>
        <value>DECAVEND</value>
        <value>0ID00129</value>
        <value>1ID00040</value>
        <value>HLBASING</value>
        <value>UKTEST09</value>
        <value>UKTEST07</value>
        <value>UKTEST06</value>
        <value>UKTEST05</value>
        <value>UKTEST04</value>
        <value>UKTEST03</value>
        <value>UKTEST02</value>
        <value>UKTEST01</value>
        <value>DGB33X5F</value>
        <value>STSRACK2</value>
        <value>STSRACK1</value>
        <value>L8B36Q29</value>
        <value>STSIPSYS</value>
        <value>L8BW5619</value>
        <value>DEMOSBM0</value>
        <value>PHILIPS2</value>
        <value>PHILIPS1</value>
        <value>MOBIWARS</value>
        <value>INVIDEOT</value>
        <value>UKTEST08</value>
        <value>VI-LIGHT</value>
        <value>IPTV-SYS</value>
        <value>MERACK01</value>
        <value>0ID00032</value>
        <value>OKB2Y14G</value>
        <value>LWA7OZBD</value>
        <value>CENT-DVB</value>
        <value>USMB0004</value>
        <value>USMB0003</value>
        <value>USMB0002</value>
        <value>USMB0001</value>
        <value>MARITIM3</value>
        <value>MARITIM2</value>
        <value>MARITIM1</value>
        <value>NNBULE7C</value>
        <value>0ID00136</value>
        <value>0ID00163</value>
        <value>SCBEXKKE</value>
        <value>XFBABNYB</value>
        <value>COB1BFRA</value>
        <value>0ID00128</value>
        <value>0ID00212</value>
        <value>0ID00118</value>
    </util:list>
</beans>